local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Create GUI
local screenGui = Instance.new("ScreenGui", LocalPlayer:WaitForChild("PlayerGui"))
screenGui.Name = "HackerGUI"
screenGui.ResetOnSpawn = false

-- Main Frame (half size)
local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 200, 0, 150)
mainFrame.Position = UDim2.new(0.5, -100, 0.5, -75)
mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true

-- Stroke and Corner
local stroke = Instance.new("UIStroke", mainFrame)
stroke.Color = Color3.fromRGB(0, 255, 255)
stroke.Thickness = 2

Instance.new("UICorner", mainFrame).CornerRadius = UDim.new(0, 6)

-- Title
local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundTransparency = 1
title.Text = "â˜  Hacker Panel â˜ "
title.Font = Enum.Font.Code
title.TextSize = 16
title.TextColor3 = Color3.fromRGB(0, 255, 255)

-- Freeze Button
local freezeButton = Instance.new("TextButton", mainFrame)
freezeButton.Size = UDim2.new(1, -20, 0, 30)
freezeButton.Position = UDim2.new(0, 10, 0, 35)
freezeButton.Text = "ðŸ§Š Freeze Trade"
freezeButton.Font = Enum.Font.Code
freezeButton.TextSize = 16
freezeButton.TextColor3 = Color3.fromRGB(0, 255, 255)
freezeButton.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Instance.new("UICorner", freezeButton).CornerRadius = UDim.new(0, 4)

-- Scroll Frame
local scroll = Instance.new("ScrollingFrame", mainFrame)
scroll.Size = UDim2.new(1, -20, 1, -75)
scroll.Position = UDim2.new(0, 10, 0, 70)
scroll.CanvasSize = UDim2.new(0, 0, 0, 0)
scroll.ScrollBarThickness = 3
scroll.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
scroll.BorderSizePixel = 0
Instance.new("UICorner", scroll).CornerRadius = UDim.new(0, 4)

local uiList = Instance.new("UIListLayout", scroll)
uiList.Padding = UDim.new(0, 4)
uiList.SortOrder = Enum.SortOrder.LayoutOrder

-- Function to add player row with icon
local function addPlayerRow(player)
	local row = Instance.new("Frame", scroll)
	row.Size = UDim2.new(1, 0, 0, 32)
	row.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	row.BorderSizePixel = 0

	-- Player Icon
	local thumb = Instance.new("ImageLabel", row)
	thumb.Size = UDim2.new(0, 26, 0, 26)
	thumb.Position = UDim2.new(0, 2, 0.5, -13)
	thumb.BackgroundTransparency = 1
	thumb.Image = "rbxthumb://type=AvatarHeadShot&id=" .. player.UserId .. "&w=100&h=100"

	-- Name
	local nameLabel = Instance.new("TextLabel", row)
	nameLabel.Size = UDim2.new(0.45, 0, 1, 0)
	nameLabel.Position = UDim2.new(0, 32, 0, 0)
	nameLabel.Text = player.Name
	nameLabel.TextColor3 = Color3.fromRGB(0, 255, 255)
	nameLabel.Font = Enum.Font.Code
	nameLabel.TextSize = 14
	nameLabel.BackgroundTransparency = 1
	nameLabel.TextXAlignment = Enum.TextXAlignment.Left

	-- Toggle
	local toggle = Instance.new("TextButton", row)
	toggle.Size = UDim2.new(0.3, 0, 0.8, 0)
	toggle.Position = UDim2.new(1, -65, 0.1, 0)
	toggle.Text = "OFF"
	toggle.Font = Enum.Font.Code
	toggle.TextSize = 14
	toggle.TextColor3 = Color3.fromRGB(0, 255, 255)
	toggle.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
	Instance.new("UICorner", toggle).CornerRadius = UDim.new(0, 4)

	toggle.MouseButton1Click:Connect(function()
		if toggle.Text == "OFF" then
			toggle.Text = "ON"
			toggle.BackgroundColor3 = Color3.fromRGB(0, 60, 60)
		else
			toggle.Text = "OFF"
			toggle.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
		end
	end)

	scroll.CanvasSize = UDim2.new(0, 0, 0, uiList.AbsoluteContentSize.Y + 10)
end

-- Add existing players
for _, player in ipairs(Players:GetPlayers()) do
	if player ~= LocalPlayer then
		addPlayerRow(player)
	end
end

-- Add new players
Players.PlayerAdded:Connect(function(player)
	addPlayerRow(player)
end)

-- Freeze button logic
freezeButton.MouseButton1Click:Connect(function()
	print("ðŸ§Š Freeze Trade clicked")
end)		petInput.Visible = true
		addPetButton.Visible = true
	end
end)

-- Freeze Button logic
freezeButton.MouseButton1Click:Connect(function()
	messageLabel.Text = "Please Trade on someone"
end)

-- Add Fake Pet logic
addPetButton.MouseButton1Click:Connect(function()
	if petInput.Text ~= "" then
		messageLabel.Text = "Fake Pet Added: " .. petInput.Text
		petInput.Text = "" -- clear textbox
	else
		messageLabel.Text = "Please enter a pet name!"
	end
end)
